.PHONY: env
env:
	@. ./env.sh

.PHONY: build
build:
	@docker build .

.PHONY: build/web
build/web:
	@(cd web && make build)

.PHONY: watch/web
watch/web:
	@(cd web && make watch)

.PHONY: genesis
genesis:
	@GENESIS=true go run c3/cmd/oracle/main.go

.PHONY: start
start:
	@GENESIS=false go run c3/cmd/oracle/main.go

.PHONY: web
web:
	@(cd web && make serve)

.PHONY: push
push:
	@go run ../c3-go/main.go push $(IMAGE)

.PHONY: payload
payload:
	@echo '["0x0ad54e9f0225b2e6937924f699f373bf263256f3cd5444b3f59a9782814ada1d","0x3432666638313033303130313036346336663637343237353739303166663832303030313034303130363533363536653634363537323031666638343030303130363431366436663735366537343031666638363030303130353530373236393633363530316666383630303031303535363631366337353635303166663836303030303030313766663833303130313031303734313634363437323635373337333031666638343030303130363031323830303030306166663835303530313032666638383030303030303363666638323031313434636666636135663266303137343662316331336666636137613364666661623034363266666432323537393564336130313039303230646530623662336137363430303030303130383032353864313565313736323830303030313038303235386431356531373632383030303030"]' | nc localhost 3333
